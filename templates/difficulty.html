<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>難易度設定</title>
    <link rel="stylesheet" href="/static/styles.css?v=2" />
  </head>

  <body>
    <div class="select difficulty-page">
      <a class="difficulty-page__back" href="/select" aria-label="Back">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M15 18l-6-6 6-6" />
        </svg>
      </a>

      <div class="difficulty-page__card">
        <div class="difficulty-page__genre">{{ genre }}</div>
      </div>

      <button class="difficulty-level-btn easy" data-level="Easy">Easy</button>
      <button class="difficulty-level-btn normal" data-level="Normal">Normal</button>
      <button class="difficulty-level-btn difficult" data-level="Difficult">Difficult</button>
    </div>

    <script>
      const genre = {{ (genre or '')|tojson }};
      document.querySelectorAll(".difficulty-level-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const level = btn.dataset.level;
          window.location.href = `/question?genre=${encodeURIComponent(genre)}&level=${encodeURIComponent(level)}&reset=1`;
        });
      });
    </script>

    {% include "_bottom_nav.html" %}
  </body>
</html>
